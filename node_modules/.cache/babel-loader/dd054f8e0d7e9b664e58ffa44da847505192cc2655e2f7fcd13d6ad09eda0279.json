{"ast":null,"code":"import Vditor from 'vditor';\n// 1.2 引入样式\nimport 'vditor/dist/index.css';\nimport { ref, onMounted } from 'vue';\n\n// 2. 获取DOM引用\n\nexport default {\n  __name: 'Index',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    // 1.1 引入Vditor 构造函数\n    const vditor = ref();\n\n    // 3. 在组件初始化时，就创建Vditor对象，并引用\n    onMounted(() => {\n      vditor.value = new Vditor('vditor', {\n        // height: '200px',\n        width: '100%',\n        height: '100%',\n        tab: \"\\t\",\n        // \"outline\": {\n        // \t\"enable\": true\n        // },\n        toolbar: ['emoji', 'headings', 'bold', 'italic', 'strike', '|', 'line', 'quote', 'list', 'ordered-list', 'check', 'code', 'inline-code', 'insert-after', 'insert-before', 'undo', 'redo', 'link', 'table', 'edit-mode', 'both', 'content-theme', 'export', 'outline']\n      });\n    });\n    function getMarkdown() {\n      const markdown = vditor.value.getValue();\n      console.log(markdown);\n    }\n    function getMarkdown1() {\n      const markdown = vditor.value.exportJSON(vditor.value.getValue());\n      console.log(markdown);\n    }\n    function getMarkdown2() {\n      const article_content = vditor.value.getHTML();\n      const titleTag = [\"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\"];\n      console.log(article_content.childNodes);\n      // let titles = [];\n      // article_content.childNodes.forEach((e, index) => {\n      // \t\tif (titleTag.includes(e.nodeName)) {\n      // \t\t\t\tconst id = \"header-\" + index;\n      // \t\t\t\te.setAttribute(\"id\", id);\n      // \t\t\t\ttitles.push({\n      // \t\t\t\t\t\tid: id,\n      // \t\t\t\t\t\ttitle: e.innerHTML,\n      // \t\t\t\t\t\tlevel: Number(e.nodeName.substring(1, 2)),\n      // \t\t\t\t\t\tnodeName: e.nodeName\n      // \t\t\t\t});\n      // \t\t}\n      // });\n      // const catalog = titles;\n      // console.log(catalog); \n    }\n    const __returned__ = {\n      vditor,\n      getMarkdown,\n      getMarkdown1,\n      getMarkdown2,\n      get Vditor() {\n        return Vditor;\n      },\n      ref,\n      onMounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["Vditor","ref","onMounted","vditor","value","width","height","tab","toolbar","getMarkdown","markdown","getValue","console","log","getMarkdown1","exportJSON","getMarkdown2","article_content","getHTML","titleTag","childNodes"],"sources":["E:/java项目/test/blog/blog-front/src/views/edit/Index.vue"],"sourcesContent":["<template>\r\n\t<div class=\"edit-body\">\r\n\t\t<div class=\"edit-head\">\r\n\t\t\t<div class=\"edit-title-input\">\r\n\t\t\t\t<input placeholder=\"请输入标题\" maxlength=\"100\" />\r\n\t\t\t\t<span>0/100</span>\r\n\t\t\t</div>\r\n\t\t\t<el-button class=\"edit-save\" @click=\"getMarkdown2\">保存</el-button>\r\n\t\t\t<el-button type=\"primary\" @click=\"getMarkdown1\">发布</el-button>\r\n\t\t</div>\r\n\t\t<div class=\"edit-container\">\r\n\t\t\t<div class=\"edit-left\">\r\n\t\t\t\t<div class=\"edit-content\" id=\"vditor\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"edit-right\">\r\n\t\t\t\t<div class=\"edit-help\">\r\n\t\t\t\t\t<div class=\"edit-help-item\">\r\n\t\t\t\t\t\t<img src=\"../../assets/imgs/目录.svg\">\r\n\t\t\t\t\t\t<span>目录</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"edit-help-item\">\r\n\t\t\t\t\t\t<img src=\"../../assets/imgs/AI-chat.svg\">\r\n\t\t\t\t\t\t<span>AI助手</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"edit-help-item\">\r\n\t\t\t\t\t\t<img src=\"../../assets/imgs/帮助与说明.svg\">\r\n\t\t\t\t\t\t<span>说明</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"edit-help-content\">\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t\r\n\t\t</div>\r\n\t</div>\r\n\t\r\n\t\r\n</template>\r\n\r\n<script setup>\r\n// 1.1 引入Vditor 构造函数\r\nimport Vditor from 'vditor'\r\n// 1.2 引入样式\r\nimport 'vditor/dist/index.css';\r\nimport { ref, onMounted } from 'vue';\r\n\r\n// 2. 获取DOM引用\r\nconst vditor = ref()\r\n\r\n// 3. 在组件初始化时，就创建Vditor对象，并引用\r\nonMounted(() => {\r\n  vditor.value = new Vditor('vditor',{\r\n  \t// height: '200px',\r\n    width: '100%',\r\n\t\theight: '100%',\r\n\t\ttab:\"\\t\",\r\n\t\t// \"outline\": {\r\n\t\t// \t\"enable\": true\r\n\t\t// },\r\n\t\ttoolbar: [\r\n\t\t\t'emoji','headings','bold','italic','strike','|','line','quote','list','ordered-list','check',\r\n\t\t\t'code','inline-code','insert-after','insert-before','undo','redo','link','table','edit-mode',\r\n\t\t\t'both','content-theme','export','outline'\r\n\t\t\t\r\n\r\n\t\t]\r\n\t\t\r\n\t\t\r\n  })\r\n\t\r\n\t\r\n})\r\n\r\nfunction getMarkdown(){\r\n\tconst markdown = vditor.value.getValue();\r\n\tconsole.log(markdown);\r\n}\r\n\r\nfunction getMarkdown1(){\r\n\tconst markdown = vditor.value.exportJSON(vditor.value.getValue());\r\n\tconsole.log(markdown);\r\n}\r\n\r\nfunction getMarkdown2(){\r\n\tconst article_content = vditor.value.getHTML();\r\n\tconst titleTag = [\"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\"];\r\n\tconsole.log(article_content.childNodes); \r\n\t// let titles = [];\r\n\t// article_content.childNodes.forEach((e, index) => {\r\n\t// \t\tif (titleTag.includes(e.nodeName)) {\r\n\t// \t\t\t\tconst id = \"header-\" + index;\r\n\t// \t\t\t\te.setAttribute(\"id\", id);\r\n\t// \t\t\t\ttitles.push({\r\n\t// \t\t\t\t\t\tid: id,\r\n\t// \t\t\t\t\t\ttitle: e.innerHTML,\r\n\t// \t\t\t\t\t\tlevel: Number(e.nodeName.substring(1, 2)),\r\n\t// \t\t\t\t\t\tnodeName: e.nodeName\r\n\t// \t\t\t\t});\r\n\t// \t\t}\r\n\t// });\r\n\t// const catalog = titles;\r\n\t// console.log(catalog); \r\n}\r\n\r\n\r\n\r\n\r\n</script>\r\n\r\n\r\n<style src=\"../../assets/css/edit.css\" scoped>\r\n\r\n</style>"],"mappings":"AA2CA,OAAOA,MAAM,MAAM,QAAQ;AAC3B;AACA,OAAO,uBAAuB;AAC9B,SAASC,GAAG,EAAEC,SAAS,QAAQ,KAAK;;AAEpC;;;;;;;;;IANA;IAOA,MAAMC,MAAM,GAAGF,GAAG,CAAC,CAAC;;IAEpB;IACAC,SAAS,CAAC,MAAM;MACdC,MAAM,CAACC,KAAK,GAAG,IAAIJ,MAAM,CAAC,QAAQ,EAAC;QAClC;QACCK,KAAK,EAAE,MAAM;QACfC,MAAM,EAAE,MAAM;QACdC,GAAG,EAAC,IAAI;QACR;QACA;QACA;QACAC,OAAO,EAAE,CACR,OAAO,EAAC,UAAU,EAAC,MAAM,EAAC,QAAQ,EAAC,QAAQ,EAAC,GAAG,EAAC,MAAM,EAAC,OAAO,EAAC,MAAM,EAAC,cAAc,EAAC,OAAO,EAC5F,MAAM,EAAC,aAAa,EAAC,cAAc,EAAC,eAAe,EAAC,MAAM,EAAC,MAAM,EAAC,MAAM,EAAC,OAAO,EAAC,WAAW,EAC5F,MAAM,EAAC,eAAe,EAAC,QAAQ,EAAC,SAAS;MAM1C,CAAC,CAAC;IAGJ,CAAC,CAAC;IAEF,SAASC,WAAWA,CAAA,EAAE;MACrB,MAAMC,QAAQ,GAAGP,MAAM,CAACC,KAAK,CAACO,QAAQ,CAAC,CAAC;MACxCC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;IACtB;IAEA,SAASI,YAAYA,CAAA,EAAE;MACtB,MAAMJ,QAAQ,GAAGP,MAAM,CAACC,KAAK,CAACW,UAAU,CAACZ,MAAM,CAACC,KAAK,CAACO,QAAQ,CAAC,CAAC,CAAC;MACjEC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;IACtB;IAEA,SAASM,YAAYA,CAAA,EAAE;MACtB,MAAMC,eAAe,GAAGd,MAAM,CAACC,KAAK,CAACc,OAAO,CAAC,CAAC;MAC9C,MAAMC,QAAQ,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;MACrDP,OAAO,CAACC,GAAG,CAACI,eAAe,CAACG,UAAU,CAAC;MACvC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}