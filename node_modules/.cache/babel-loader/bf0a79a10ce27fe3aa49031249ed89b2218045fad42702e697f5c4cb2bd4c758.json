{"ast":null,"code":"import { getAdminUserInfo, download } from '@/api/user.js';\nimport { ref, onMounted } from 'vue';\nconst adminInfo = null;\nexport default {\n  __name: 'Index',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    let managed = ref(false);\n    let adminInfoShow = ref();\n    let avatar = ref();\n    onMounted(() => {\n      getAdmin();\n    });\n    function downloadAvatar() {\n      download(adminInfo.value.avatar).then(res => {\n        // const blob = new Blob([res.data]);\n        const reader = new FileReader();\n        reader.readAsDataURL(res);\n        reader.onload = () => {\n          avatar.value = reader.result;\n        };\n        // avatar.value=res;\n      });\n    }\n    function getAdmin() {\n      console.log(\"nihao\");\n      getAdminUserInfo().then(res => {\n        adminInfo.value = res.data;\n        // adminName=adminInfo.value.name\n        downloadAvatar();\n      });\n    }\n    const __returned__ = {\n      get managed() {\n        return managed;\n      },\n      set managed(v) {\n        managed = v;\n      },\n      adminInfo,\n      get adminInfoShow() {\n        return adminInfoShow;\n      },\n      set adminInfoShow(v) {\n        adminInfoShow = v;\n      },\n      get avatar() {\n        return avatar;\n      },\n      set avatar(v) {\n        avatar = v;\n      },\n      downloadAvatar,\n      getAdmin,\n      get getAdminUserInfo() {\n        return getAdminUserInfo;\n      },\n      get download() {\n        return download;\n      },\n      ref,\n      onMounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["getAdminUserInfo","download","ref","onMounted","adminInfo","managed","adminInfoShow","avatar","getAdmin","downloadAvatar","value","then","res","reader","FileReader","readAsDataURL","onload","result","console","log","data"],"sources":["E:/java项目/test/blog/blog-front/src/views/user/Index.vue"],"sourcesContent":["<template>\r\n\t<div class=\"user-body\">\r\n\t\t<div class=\"user-basic\">\r\n\t\t\t<img src=\"../../assets/imgs/fufu.jpg\" class=\"user-avatar\">\r\n\t\t\t<span class=\"user-name\">Name</span>\r\n\t\t\t<div class=\"user-link\">\r\n\t\t\t\t<div class=\"user-link-item\">\r\n\t\t\t\t\t<img src=\"../../assets/imgs/微信.svg\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"user-link-item\">\r\n\t\t\t\t\t<img src=\"../../assets/imgs/QQ.svg\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"user-link-item\">\r\n\t\t\t\t\t<img src=\"../../assets/imgs/github.svg\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"user-link-item\">\r\n\t\t\t\t\t<img src=\"../../assets/imgs/邮箱.svg\">\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"user-detail\">\r\n\t\t\t\t<div class=\"user-detail-item\">\r\n\t\t\t\t\t<div>毕业院校</div>\r\n\t\t\t\t\t<span>长沙学院</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"user-detail-item\">\r\n\t\t\t\t\t<div>所在城市</div>\r\n\t\t\t\t\t<span>湖南 长沙</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"user-detail-item\">\r\n\t\t\t\t\t<div>年级</div>\r\n\t\t\t\t\t<span>25届毕业生</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t\t<div class=\"user-main\">\r\n\t\t\t<Introduce v-if=\"managed\"></Introduce>\r\n\t\t\t<Manage v-else ></Manage>\r\n\t\t</div>\r\n\t\t\r\n\t</div>\r\n</template>\r\n\r\n\r\n<script setup>\r\nimport {getAdminUserInfo,download} from '@/api/user.js'\r\n\r\nimport {ref, onMounted} from 'vue'\r\nlet managed=ref(false);\r\nconst adminInfo=null;\r\nlet adminInfoShow=ref()\r\nlet avatar=ref()\r\n\r\nonMounted(()=>{\r\n\tgetAdmin();\r\n})\r\n\r\n\r\nfunction downloadAvatar(){\r\n\tdownload(adminInfo.value.avatar)\r\n\t.then(res=>{\r\n\t\t// const blob = new Blob([res.data]);\r\n\t\tconst reader = new FileReader();\r\n\t\treader.readAsDataURL(res);\r\n\t\treader.onload = () => {\r\n\t\t\tavatar.value = reader.result;\r\n\t\t};\r\n\t\t// avatar.value=res;\r\n\t})\r\n}\r\n\r\nfunction getAdmin(){\r\n  console.log(\"nihao\")\r\n  getAdminUserInfo()\r\n  .then(res=>{\r\n    adminInfo.value=res.data\r\n    // adminName=adminInfo.value.name\r\n    downloadAvatar()\r\n  })\r\n}\r\n\r\n</script>\r\n\r\n<style src=\"../../assets/css/user.css\" scoped>\r\n\r\n</style>\r\n"],"mappings":"AA6CA,SAAQA,gBAAgB,EAACC,QAAQ,QAAO,eAAe;AAEvD,SAAQC,GAAG,EAAEC,SAAS,QAAO,KAAK;AAElC,MAAMC,SAAS,GAAC,IAAI;;;;;;;IADpB,IAAIC,OAAO,GAACH,GAAG,CAAC,KAAK,CAAC;IAEtB,IAAII,aAAa,GAACJ,GAAG,CAAC,CAAC;IACvB,IAAIK,MAAM,GAACL,GAAG,CAAC,CAAC;IAEhBC,SAAS,CAAC,MAAI;MACbK,QAAQ,CAAC,CAAC;IACX,CAAC,CAAC;IAGF,SAASC,cAAcA,CAAA,EAAE;MACxBR,QAAQ,CAACG,SAAS,CAACM,KAAK,CAACH,MAAM,CAAC,CAC/BI,IAAI,CAACC,GAAG,IAAE;QACV;QACA,MAAMC,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;QAC/BD,MAAM,CAACE,aAAa,CAACH,GAAG,CAAC;QACzBC,MAAM,CAACG,MAAM,GAAG,MAAM;UACrBT,MAAM,CAACG,KAAK,GAAGG,MAAM,CAACI,MAAM;QAC7B,CAAC;QACD;MACD,CAAC,CAAC;IACH;IAEA,SAAST,QAAQA,CAAA,EAAE;MACjBU,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;MACpBnB,gBAAgB,CAAC,CAAC,CACjBW,IAAI,CAACC,GAAG,IAAE;QACTR,SAAS,CAACM,KAAK,GAACE,GAAG,CAACQ,IAAI;QACxB;QACAX,cAAc,CAAC,CAAC;MAClB,CAAC,CAAC;IACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}