{"ast":null,"code":"import VanillaTilt from 'vanilla-tilt';\nimport { reactive, onMounted, ref } from \"vue\";\nimport { login, register } from '@/api/user';\nexport default {\n  __name: 'Index',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    let isLogin = ref(true);\n    let backgroundImg = ref(require(\"@/assets/imgs/3.png\"));\n    let color = ref(\"blak\");\n    onMounted(() => {\n      // VanillaTilt.init(document.querySelector(\".card\"), {\n      // \tmax: 50,\n      // \tspeed: 400\n      // });\n\n      //It also supports NodeList\n      VanillaTilt.init(document.querySelectorAll(\".login-left\", \"login-button\"));\n    });\n    function openLogin() {\n      isLogin.value = true;\n      backgroundImg.value = require(\"@/assets/imgs/3.png\");\n    }\n    function closeLogin() {\n      isLogin.value = false;\n      backgroundImg.value = require(\"@/assets/imgs/10.jpg\");\n    }\n    const ruleForm = reactive({\n      \"phone\": \"\",\n      \"name\": \"\",\n      \"password\": \"\",\n      \"checkPass\": \"\",\n      \"code\": \"\"\n    });\n    const user = function loginTo() {\n      if (user.phone && user.password) login(user).then(res => {\n        localStorage.setItem('token', res.data);\n        console.log(res.data);\n      });\n    };\n    const validatePhone = (rule, value, callback) => {\n      if (!value) {\n        callback(new Error('请输入手机号'));\n      } else {\n        callback();\n      }\n    };\n    const validateName = (rule, value, callback) => {\n      if (!value) {\n        callback(new Error('名称不能为空'));\n      } else {\n        callback();\n      }\n    };\n    const validatePass = (rule, value, callback) => {\n      if (!value) {\n        callback(new Error('请输入密码'));\n      } else {\n        callback();\n      }\n    };\n    const validateCheckPass = (rule, value, callback) => {\n      if (!value || value != ruleForm.password) {\n        callback(new Error('与密码不一致'));\n      } else {\n        callback();\n      }\n    };\n    const validateCode = (rule, value, callback) => {\n      if (!value) {\n        callback(new Error('请输入验证码'));\n      } else if (value < 1000) {\n        callback(new Error('请输入四位验证码'));\n        console.log(value);\n      } else {\n        callback();\n      }\n    };\n    const rules = {\n      phone: [{\n        validator: validatePhone,\n        trigger: 'blur'\n      }],\n      name: [{\n        validator: validateName,\n        trigger: 'blur'\n      }],\n      password: [{\n        validator: validatePass,\n        trigger: 'blur'\n      }],\n      checkPass: [{\n        validator: validateCheckPass,\n        trigger: 'blur'\n      }],\n      code: [{\n        validator: validateCode,\n        trigger: 'blur'\n      }]\n    };\n    const __returned__ = {\n      get isLogin() {\n        return isLogin;\n      },\n      set isLogin(v) {\n        isLogin = v;\n      },\n      get backgroundImg() {\n        return backgroundImg;\n      },\n      set backgroundImg(v) {\n        backgroundImg = v;\n      },\n      get color() {\n        return color;\n      },\n      set color(v) {\n        color = v;\n      },\n      openLogin,\n      closeLogin,\n      ruleForm,\n      user,\n      validatePhone,\n      validateName,\n      validatePass,\n      validateCheckPass,\n      validateCode,\n      rules,\n      get VanillaTilt() {\n        return VanillaTilt;\n      },\n      reactive,\n      onMounted,\n      ref,\n      get login() {\n        return login;\n      },\n      get register() {\n        return register;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["VanillaTilt","reactive","onMounted","ref","login","register","isLogin","backgroundImg","require","color","init","document","querySelectorAll","openLogin","value","closeLogin","ruleForm","user","loginTo","phone","password","then","res","localStorage","setItem","data","console","log","validatePhone","rule","callback","Error","validateName","validatePass","validateCheckPass","validateCode","rules","validator","trigger","name","checkPass","code"],"sources":["E:/java项目/test/blog/blog-front/src/views/login/Index.vue"],"sourcesContent":["<template>\r\n\t<div class=\"login-body\" :style=\"'background-image: url(' + backgroundImg + ');'\">\r\n\t\t<div class=\"login-container\">\r\n\t\t\t<div class=\"login-left\">\r\n\t\t\t\t<h1>个人博客</h1>\r\n\t\t\t\t<!-- <span>欢迎来到我的博客</span> -->\r\n\t\t\t\t<vuetyped :strings=\"['欢迎来到小何的博客']\" :loop=\"true\" :smart-backspace=\"true\">\r\n\t\t\t\t\t<div class=\"typing\" />\r\n\t\t\t\t</vuetyped>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"login-right\">\r\n\t\t\t\t<span class=\"login-right-background\" :style=\"'background-image: url(' + backgroundImg + ');'\"></span>\r\n\r\n\t\t\t\t<div class=\"login\"\r\n\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t'toLeft':!isLogin\r\n\t\t\t\t\t}\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<el-form\r\n\t\t\t\t\t\t:ref=\"ruleForm\"\r\n\t\t\t\t\t\tstyle=\"width: 80%\"\r\n\t\t\t\t\t\t:model=\"ruleForm\"\r\n\t\t\t\t\t\tstatus-icon\r\n\t\t\t\t\t\t:rules=\"rules\"\r\n\t\t\t\t\t\tlabel-width=\"auto\"\r\n\t\t\t\t\t\tclass=\"login-form\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h1>登陆</h1>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<el-form-item prop=\"phone\">\r\n\t\t\t\t\t\t\t<span>手机号</span>\r\n\t\t\t\t\t\t\t<el-input v-model.number=\"user.phone\" autocomplete=“new-password” maxlength=\"11\"/>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item prop=\"password\" >\r\n\t\t\t\t\t\t\t<span>密码</span>\r\n\t\t\t\t\t\t\t<el-input v-model=\"user.password\" type=\"password\" autocomplete=\"off\"  maxlength=\"12\"/>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item prop=\"code\">\r\n\t\t\t\t\t\t\t<span>验证码</span>\r\n\t\t\t\t\t\t\t<el-input v-model.number=\"user.code\"  maxlength=\"4\"/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<!-- <div class=\"login-form-line\">\r\n\t\t\t\t\t\t\t<span>获取验证码</span>\r\n\t\t\t\t\t\t\t<span  @click=\"closeLogin\">去注册</span>\r\n\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t\t<button class=\"login-button\" @click=\"loginTo\">登陆</button>\r\n\t\t\t\t\t</el-form>\r\n\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"register\"\r\n\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t'toRight':isLogin\r\n\t\t\t\t\t}\"\r\n\t\t\t\t>\r\n\t\t\t\t<el-form\r\n\t\t\t\t\t\t:ref=\"ruleForm\"\r\n\t\t\t\t\t\tstyle=\"width: 80%\"\r\n\t\t\t\t\t\t:model=\"ruleForm\"\r\n\t\t\t\t\t\tstatus-icon\r\n\t\t\t\t\t\t:rules=\"rules\"\r\n\t\t\t\t\t\tlabel-width=\"auto\"\r\n\t\t\t\t\t\tclass=\"login-form\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h1>注册</h1>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<el-form-item prop=\"phone\">\r\n\t\t\t\t\t\t\t<span>手机号</span>\r\n\t\t\t\t\t\t\t<el-input v-model.number=\"user.phone\" maxlength=\"11\"/>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item prop=\"name\" >\r\n\t\t\t\t\t\t\t<span>名称</span>\r\n\t\t\t\t\t\t\t<el-input v-model=\"user.name\" type=\"\" autocomplete=\"off\"  maxlength=\"10\"/>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item prop=\"password\" >\r\n\t\t\t\t\t\t\t<span>密码</span>\r\n\t\t\t\t\t\t\t<el-input v-model=\"user.password\" type=\"password\" autocomplete=\"off\"  maxlength=\"12\"/>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item prop=\"checkPass\" >\r\n\t\t\t\t\t\t\t<span>确认密码</span>\r\n\t\t\t\t\t\t\t<el-input v-model=\"user.checkPass\" type=\"password\" autocomplete=\"off\"  maxlength=\"12\"/>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<!-- <el-form-item prop=\"code\">\r\n\t\t\t\t\t\t\t<span>验证码</span>\r\n\t\t\t\t\t\t\t<el-input v-model.number=\"user.code\"  maxlength=\"4\"/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</el-form-item> -->\r\n\t\t\t\t\t\t<div class=\"login-form-line\">\r\n\t\t\t\t\t\t\t<span>获取验证码</span>\r\n\t\t\t\t\t\t\t<span  @click=\"openLogin\">去登陆</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button type=\"primary\">注册</button>\r\n\t\t\t\t\t</el-form>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\nimport VanillaTilt from 'vanilla-tilt';\r\nimport { reactive,onMounted,ref } from \"vue\";\r\nimport {login,register} from '@/api/user'\r\n\r\nlet isLogin = ref(true);\r\nlet backgroundImg = ref(require(\"@/assets/imgs/3.png\"));\r\nlet color = ref(\"blak\")\r\nonMounted(() => {\r\n  // VanillaTilt.init(document.querySelector(\".card\"), {\r\n\t// \tmax: 50,\r\n\t// \tspeed: 400\r\n\t// });\r\n\t\r\n\t//It also supports NodeList\r\n\tVanillaTilt.init(document.querySelectorAll(\".login-left\",\"login-button\"));\r\n});\r\n\r\nfunction openLogin(){\r\n\tisLogin.value=true;\r\n\tbackgroundImg.value=require(\"@/assets/imgs/3.png\");\r\n}\r\n\r\nfunction closeLogin(){\r\n\tisLogin.value=false;\r\n\tbackgroundImg.value=require(\"@/assets/imgs/10.jpg\");\r\n}\r\n\r\n\r\nconst ruleForm = reactive(\r\n\t{\r\n\t\t\"phone\":\"\",\r\n\t\t\"name\":\"\",\r\n\t\t\"password\":\"\",\r\n\t\t\"checkPass\":\"\",\r\n\t\t\"code\":\"\"\r\n\t}\r\n)\r\n\r\nconst user =\r\nfunction loginTo(){\r\n\tif(user.phone && user.password)\r\n\tlogin(user)\r\n\t.then(res=>{\r\n\t\tlocalStorage.setItem('token', res.data);\r\n\t\tconsole.log(res.data)\r\n\t})\r\n\t\r\n}\r\n\r\n\r\n\r\nconst validatePhone = (rule, value, callback) => {\r\n  if(!value){\r\n    callback(new Error('请输入手机号'));\r\n  }else{\r\n    callback();\r\n  }\r\n  \r\n};\r\nconst validateName = (rule, value, callback) => {\r\n  if(!value){\r\n    callback(new Error('名称不能为空'));\r\n  }else{\r\n\t\tcallback();\r\n\t}\r\n  \r\n};\r\nconst validatePass = (rule, value, callback) => {\r\n  if(!value){\r\n    callback(new Error('请输入密码'));\r\n  }else{\r\n    callback();\r\n  }\r\n};\r\nconst validateCheckPass = (rule, value, callback) => {\r\n  if(!value || value != ruleForm.password){\r\n    callback(new Error('与密码不一致'));\r\n  }else{\r\n    callback();\r\n  }\r\n};\r\nconst validateCode = (rule, value, callback) => {\r\n  if(!value){\r\n    callback(new Error('请输入验证码'));\r\n  }else if(value < 1000){\r\n    callback(new Error('请输入四位验证码'));\r\n    console.log(value)\r\n  }else{\r\n    callback();\r\n  }\r\n};\r\n\r\nconst rules = {\r\n\tphone: [{ validator: validatePhone, trigger: 'blur' }],\r\n\tname: [{ validator: validateName, trigger: 'blur' }],\r\n\tpassword: [{  validator: validatePass, trigger: 'blur' }],\r\n\tcheckPass: [{  validator: validateCheckPass, trigger: 'blur' }],\r\n\tcode: [{  validator: validateCode, trigger: 'blur' }]\r\n};\r\n   \r\n                        \r\n\r\n\r\n\r\n</script>\r\n\r\n<style src=\"@/assets/css/login.css\" scoped>\r\n\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}