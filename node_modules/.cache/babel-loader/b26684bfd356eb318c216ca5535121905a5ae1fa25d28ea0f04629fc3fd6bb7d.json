{"ast":null,"code":"import { ref } from 'vue';\nexport default {\n  __name: 'Index',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    let isReply = ref(false);\n    const commentListTemp = [{\n      \"id\": \"1\",\n      \"userId\": \"1\",\n      \"userName\": \"李华\",\n      \"content\": \"你好\",\n      \"createTime\": \"2024年4月14日\",\n      \"replyList\": [{\n        \"id\": \"1\",\n        \"parentId\": \"0\",\n        \"userName\": \"哈哈\",\n        \"content\": \"你好啊\",\n        \"createTime\": \"2024年4月15日\",\n        \"isReply\": false\n      }, {\n        \"id\": \"2\",\n        \"parentId\": \"1\",\n        \"userName\": \"王五\",\n        \"content\": \"我不好\",\n        \"createTime\": \"2024年4月16日\",\n        \"isReply\": false\n      }],\n      \"isReply\": false\n    }, {\n      \"id\": \"1\",\n      \"userId\": \"1\",\n      \"userName\": \"李华\",\n      \"content\": \"你好\",\n      \"createTime\": \"2024年4月14日\",\n      \"replyList\": [{\n        \"id\": \"1\",\n        \"parentId\": \"0\",\n        \"userName\": \"哈哈\",\n        \"content\": \"你好啊\",\n        \"createTime\": \"2024年4月15日\",\n        \"isReply\": false\n      }, {\n        \"id\": \"2\",\n        \"parentId\": \"1\",\n        \"userName\": \"王五\",\n        \"content\": \"我不好\",\n        \"createTime\": \"2024年4月16日\",\n        \"isReply\": false\n      }],\n      \"isReply\": false\n    }];\n    let commentList = ref(commentListTemp);\n    function findParentUserName(comment, parentId) {\n      const parentComment = comment.replyList.find(item => item.id === parentId);\n      return parentComment ? parentComment.userName : '';\n    }\n    function toComment(commentId) {\n      console.log(commentListTemp);\n      commentList.value = [...commentListTemp];\n      commentList.value.find(comment => comment.id === commentId).isReply = true;\n      ;\n      // if(comment){\n      // \tcomment.isReply=true;\n      // }\n    }\n    function cancelComment(commentId) {\n      commentList.value = [...commentListTemp];\n      commentList.value.find(comment => comment.id === commentId).isReply = false;\n      ;\n      // const comment = commentList.value.find(comment=>comment.id===commentId);\n      // if(comment){\n      // \tcomment.isReply=false;\n      // }\n    }\n    function toReply(commentId, replyId) {\n      commentList.value = [...commentListTemp];\n      commentList.value.find(comment => comment.id === commentId).replyList.find(reply => reply.id === replyId).isReply = true;\n      ;\n      // if(comment){\n      // \tcomment.isReply=true;\n      // }\n    }\n    function cancelReply(commentId, replyId) {\n      commentList.value = [...commentListTemp];\n      commentList.value.find(comment => comment.id === commentId).replyList.find(reply => reply.id === replyId).isReply = false;\n      ;\n      // const comment = commentList.value.find(comment=>comment.id===commentId);\n      // if(comment){\n      // \tcomment.isReply=false;\n      // }\n    }\n    const __returned__ = {\n      get isReply() {\n        return isReply;\n      },\n      set isReply(v) {\n        isReply = v;\n      },\n      commentListTemp,\n      get commentList() {\n        return commentList;\n      },\n      set commentList(v) {\n        commentList = v;\n      },\n      findParentUserName,\n      toComment,\n      cancelComment,\n      toReply,\n      cancelReply,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","isReply","commentListTemp","commentList","findParentUserName","comment","parentId","parentComment","replyList","find","item","id","userName","toComment","commentId","console","log","value","cancelComment","toReply","replyId","reply","cancelReply"],"sources":["E:/java项目/blog/blog-front/src/views/comment/Index.vue"],"sourcesContent":["<template>\r\n\t<div class=\"comment-body\">\r\n\t\t<div class=\"comment-head\">\r\n\t\t\t<div class=\"comment-input\">\r\n\t\t\t\t<img class=\"comment-user-avatar\" src=\"@/assets/imgs/fufu.jpg\" style=\"margin-right: 5px;\">\r\n\t\t\t\t<textarea ></textarea>\r\n\t\t\t\t<div class=\"comment-input-button\">评论</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"comment-main\">\r\n\t\t\t<div class=\"comment-for\" v-for=\"comment in commentList\" :key=\"comment.id\">\r\n\t\t\t\t<div class=\"comment\">\r\n\t\t\t\t\t<div class=\"comment-content\">\r\n\t\t\t\t\t\t<div class=\"comment-content-left\">\r\n\t\t\t\t\t\t\t<img class=\"comment-user-avatar\" src=\"@/assets/imgs/fufu.jpg\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"comment-content-right\">\r\n\t\t\t\t\t\t\t<div class=\"comment-user-name\">{{ comment.userName }}</div>\r\n\t\t\t\t\t\t\t<div class=\"comment-time\">{{ comment.createTime }}</div>\r\n\t\t\t\t\t\t\t<div class=\"comment-text\">{{ comment.content }}</div>\r\n\t\t\t\t\t\t\t<div class=\"comment-info\">\r\n\t\t\t\t\t\t\t\t<div class=\"comment-info-item\">\r\n\t\t\t\t\t\t\t\t\t<img src=\"@/assets/imgs/blog/评论.svg\">\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"!comment.isReply\" @click=\"toComment(comment.id)\">回复</span>\r\n\t\t\t\t\t\t\t\t\t<span v-else @click=\"cancelComment(comment.id)\">收起</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"comment-info-item\">\r\n\t\t\t\t\t\t\t\t\t<img src=\"@/assets/imgs/blog/评论.svg\">\r\n\t\t\t\t\t\t\t\t\t<span >回复</span>\r\n\t\t\t\t\t\t\t\t\t<span v-else @click=\"cancelComment(comment.id)\">收起</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"comment-info-item\">\r\n\t\t\t\t\t\t\t\t\t<span>1</span>\r\n\t\t\t\t\t\t\t\t\t<img src=\"@/assets/imgs/blog/点赞.svg\">\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"comment-input\" style=\"width: 90%;\" v-if=\"comment.isReply\">\r\n\t\t\t\t\t\t<textarea style=\"height: 120px;\"></textarea>\r\n\t\t\t\t\t\t<div class=\"comment-input-button\">评论</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"comment-item-for\"  v-for=\"reply in comment.replyList\" :key=\"reply.id\">\r\n\t\t\t\t\t\t<div class=\"comment-content\">\r\n\t\t\t\t\t\t\t<div class=\"comment-content-left\">\r\n\t\t\t\t\t\t\t\t<img class=\"comment-user-avatar\" src=\"@/assets/imgs/fufu.jpg\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"comment-content-right\">\r\n\t\t\t\t\t\t\t\t<div class=\"comment-user-name\">{{reply.userName}}</div>\r\n\t\t\t\t\t\t\t\t<div class=\"comment-time\">{{ reply.createTime }}</div>\r\n\t\t\t\t\t\t\t\t<div class=\"comment-text\">\r\n\t\t\t\t\t\t\t\t\t<div v-if=\"reply.parentId!='0'\">回复<span>{{ findParentUserName(comment, reply.parentId) }}：</span></div>\r\n\t\t\t\t\t\t\t\t\t<div>{{ reply.content }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"comment-info\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"comment-info-item\" v-if=\"!reply.isReply\" @click=\"toReply(comment.id,reply.id)\">\r\n\t\t\t\t\t\t\t\t\t\t<img src=\"@/assets/imgs/blog/评论.svg\">\r\n\t\t\t\t\t\t\t\t\t\t<span>回复</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"comment-info-item\" v-else @click=\"cancelReply(comment.id,reply.id)\">\r\n\t\t\t\t\t\t\t\t\t\t<img src=\"@/assets/imgs/blog/评论.svg\">\r\n\t\t\t\t\t\t\t\t\t\t<span>收起</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"comment-info-item\">\r\n\t\t\t\t\t\t\t\t\t\t<span>1</span>\r\n\t\t\t\t\t\t\t\t\t\t<img src=\"@/assets/imgs/blog/点赞.svg\">\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"comment-input\" style=\"width: 90%;\" v-if=\"reply.isReply\">\r\n\t\t\t\t\t\t\t<textarea style=\"height: 120px;\"></textarea>\r\n\t\t\t\t\t\t\t<div class=\"comment-input-button\">评论</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\nimport {ref} from 'vue'\r\nlet isReply = ref(false);\r\nconst commentListTemp=[\r\n\t{\r\n\t\t\"id\":\"1\",\r\n\t\t\"userId\":\"1\",\r\n\t\t\"userName\":\"李华\",\r\n\t\t\"content\":\"你好\",\r\n\t\t\"createTime\":\"2024年4月14日\",\r\n\t\t\"replyList\":[\r\n\t\t\t{\r\n\t\t\t\t\"id\":\"1\",\r\n\t\t\t\t\"parentId\":\"0\",\r\n\t\t\t\t\"userName\":\"哈哈\",\r\n\t\t\t\t\"content\":\"你好啊\",\r\n\t\t\t\t\"createTime\":\"2024年4月15日\",\r\n\t\t\t\t\"isReply\":false\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"id\":\"2\",\r\n\t\t\t\t\"parentId\":\"1\",\r\n\t\t\t\t\"userName\":\"王五\",\r\n\t\t\t\t\"content\":\"我不好\",\r\n\t\t\t\t\"createTime\":\"2024年4月16日\",\r\n\t\t\t\t\"isReply\":false\r\n\t\t\t}\r\n\r\n\t\t],\r\n\t\t\"isReply\":false\r\n\t},\r\n\t{\r\n\t\t\"id\":\"1\",\r\n\t\t\"userId\":\"1\",\r\n\t\t\"userName\":\"李华\",\r\n\t\t\"content\":\"你好\",\r\n\t\t\"createTime\":\"2024年4月14日\",\r\n\t\t\"replyList\":[\r\n\t\t\t{\r\n\t\t\t\t\"id\":\"1\",\r\n\t\t\t\t\"parentId\":\"0\",\r\n\t\t\t\t\"userName\":\"哈哈\",\r\n\t\t\t\t\"content\":\"你好啊\",\r\n\t\t\t\t\"createTime\":\"2024年4月15日\",\r\n\t\t\t\t\"isReply\":false\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"id\":\"2\",\r\n\t\t\t\t\"parentId\":\"1\",\r\n\t\t\t\t\"userName\":\"王五\",\r\n\t\t\t\t\"content\":\"我不好\",\r\n\t\t\t\t\"createTime\":\"2024年4月16日\",\r\n\t\t\t\t\"isReply\":false\r\n\t\t\t}\r\n\r\n\t\t],\r\n\t\t\"isReply\":false\r\n\t}\r\n];\r\nlet commentList=ref(commentListTemp)\r\n\r\nfunction findParentUserName(comment, parentId) {\r\n\tconst parentComment = comment.replyList.find(item => item.id === parentId);\r\n\treturn parentComment ? parentComment.userName : '';\r\n}\r\n\r\nfunction toComment(commentId){\r\n\tconsole.log(commentListTemp);\r\n\tcommentList.value=[...commentListTemp];\r\n\tcommentList.value.find(comment=>comment.id===commentId).isReply=true;;\r\n\t// if(comment){\r\n\t// \tcomment.isReply=true;\r\n\t// }\r\n}\r\n\r\nfunction cancelComment(commentId){\r\n\tcommentList.value=[...commentListTemp];\r\n\tcommentList.value.find(comment=>comment.id===commentId).isReply=false;;\r\n\t// const comment = commentList.value.find(comment=>comment.id===commentId);\r\n\t// if(comment){\r\n\t// \tcomment.isReply=false;\r\n\t// }\r\n}\r\n\r\nfunction toReply(commentId,replyId){\r\n\tcommentList.value=[...commentListTemp];\r\n\tcommentList.value.find(comment=>comment.id===commentId).replyList.find(reply=>reply.id===replyId).isReply=true;;\r\n\t// if(comment){\r\n\t// \tcomment.isReply=true;\r\n\t// }\r\n}\r\n\r\nfunction cancelReply(commentId,replyId){\r\n\tcommentList.value=[...commentListTemp];\r\n\tcommentList.value.find(comment=>comment.id===commentId).replyList.find(reply=>reply.id===replyId).isReply=false;;\r\n\t// const comment = commentList.value.find(comment=>comment.id===commentId);\r\n\t// if(comment){\r\n\t// \tcomment.isReply=false;\r\n\t// }\r\n}\r\n</script>\r\n\r\n\r\n<style src=\"@/assets/css/comment.css\" scoped>\r\n\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}