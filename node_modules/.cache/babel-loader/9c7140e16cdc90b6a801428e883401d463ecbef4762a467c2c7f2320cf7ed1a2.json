{"ast":null,"code":"import { resolveComponent as _resolveComponent, withModifiers as _withModifiers, withKeys as _withKeys, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"flex-end\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_n_input = _resolveComponent(\"n-input\");\n  const _component_n_form_item = _resolveComponent(\"n-form-item\");\n  const _component_n_button = _resolveComponent(\"n-button\");\n  const _component_n_col = _resolveComponent(\"n-col\");\n  const _component_n_row = _resolveComponent(\"n-row\");\n  const _component_n_form = _resolveComponent(\"n-form\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_n_form, {\n    ref: \"formRef\",\n    model: _ctx.model,\n    rules: _ctx.rules\n  }, {\n    default: _withCtx(() => [_createVNode(_component_n_form_item, {\n      path: \"age\",\n      label: \"年龄\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_n_input, {\n        value: _ctx.model.age,\n        \"onUpdate:value\": _cache[0] || (_cache[0] = $event => _ctx.model.age = $event),\n        onKeydown: _cache[1] || (_cache[1] = _withKeys(_withModifiers(() => {}, [\"prevent\"]), [\"enter\"]))\n      }, null, 8 /* PROPS */, [\"value\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_n_form_item, {\n      path: \"password\",\n      label: \"密码\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_n_input, {\n        value: _ctx.model.password,\n        \"onUpdate:value\": _cache[2] || (_cache[2] = $event => _ctx.model.password = $event),\n        type: \"password\",\n        onInput: _ctx.handlePasswordInput,\n        onKeydown: _cache[3] || (_cache[3] = _withKeys(_withModifiers(() => {}, [\"prevent\"]), [\"enter\"]))\n      }, null, 8 /* PROPS */, [\"value\", \"onInput\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_n_form_item, {\n      ref: \"rPasswordFormItemRef\",\n      first: \"\",\n      path: \"reenteredPassword\",\n      label: \"重复密码\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_n_input, {\n        value: _ctx.model.reenteredPassword,\n        \"onUpdate:value\": _cache[4] || (_cache[4] = $event => _ctx.model.reenteredPassword = $event),\n        disabled: !_ctx.model.password,\n        type: \"password\",\n        onKeydown: _cache[5] || (_cache[5] = _withKeys(_withModifiers(() => {}, [\"prevent\"]), [\"enter\"]))\n      }, null, 8 /* PROPS */, [\"value\", \"disabled\"])]),\n      _: 1 /* STABLE */\n    }, 512 /* NEED_PATCH */), _createVNode(_component_n_row, {\n      gutter: [0, 24]\n    }, {\n      default: _withCtx(() => [_createVNode(_component_n_col, {\n        span: 24\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_n_button, {\n          disabled: _ctx.model.age === null,\n          round: \"\",\n          type: \"primary\",\n          onClick: _ctx.handleValidateButtonClick\n        }, {\n          default: _withCtx(() => [_createTextVNode(\" 验证 \")]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"disabled\", \"onClick\"])])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model\", \"rules\"]), _createElementVNode(\"pre\", null, _toDisplayString(JSON.stringify(_ctx.model, null, 2)) + \"\\n\", 1 /* TEXT */)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["style","_createElementBlock","_Fragment","_createVNode","_component_n_form","ref","model","_ctx","rules","default","_withCtx","_component_n_form_item","path","label","_component_n_input","value","age","_cache","$event","onKeydown","_withKeys","_withModifiers","_","password","type","onInput","handlePasswordInput","first","reenteredPassword","disabled","_component_n_row","gutter","_component_n_col","span","_createElementVNode","_hoisted_1","_component_n_button","round","onClick","handleValidateButtonClick","_createTextVNode","_toDisplayString","JSON","stringify"],"sources":["E:\\java项目\\test\\blog\\blog-front\\src\\views\\test\\Index.vue"],"sourcesContent":["<template>\r\n  <n-form ref=\"formRef\" :model=\"model\" :rules=\"rules\">\r\n    <n-form-item path=\"age\" label=\"年龄\">\r\n      <n-input v-model:value=\"model.age\" @keydown.enter.prevent />\r\n    </n-form-item>\r\n    <n-form-item path=\"password\" label=\"密码\">\r\n      <n-input\r\n        v-model:value=\"model.password\"\r\n        type=\"password\"\r\n        @input=\"handlePasswordInput\"\r\n        @keydown.enter.prevent\r\n      />\r\n    </n-form-item>\r\n    <n-form-item\r\n      ref=\"rPasswordFormItemRef\"\r\n      first\r\n      path=\"reenteredPassword\"\r\n      label=\"重复密码\"\r\n    >\r\n      <n-input\r\n        v-model:value=\"model.reenteredPassword\"\r\n        :disabled=\"!model.password\"\r\n        type=\"password\"\r\n        @keydown.enter.prevent\r\n      />\r\n    </n-form-item>\r\n    <n-row :gutter=\"[0, 24]\">\r\n      <n-col :span=\"24\">\r\n        <div style=\"display: flex; justify-content: flex-end\">\r\n          <n-button\r\n            :disabled=\"model.age === null\"\r\n            round\r\n            type=\"primary\"\r\n            @click=\"handleValidateButtonClick\"\r\n          >\r\n            验证\r\n          </n-button>\r\n        </div>\r\n      </n-col>\r\n    </n-row>\r\n  </n-form>\r\n\r\n  <pre>{{ JSON.stringify(model, null, 2) }}\r\n</pre>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref } from \"vue\";\r\nimport {\r\n  useMessage\r\n} from \"naive-ui\";\r\n\r\n\r\nexport default defineComponent({\r\n  setup() {\r\n    const formRef = ref(null);\r\n    const rPasswordFormItemRef = ref(null);\r\n    const message = useMessage();\r\n    const modelRef = ref({\r\n      age: null,\r\n      password: null,\r\n      reenteredPassword: null\r\n    });\r\n    function validatePasswordStartWith(rule, value) {\r\n      return !!modelRef.value.password && modelRef.value.password.startsWith(value) && modelRef.value.password.length >= value.length;\r\n    }\r\n    function validatePasswordSame(rule, value) {\r\n      return value === modelRef.value.password;\r\n    }\r\n    const rules = {\r\n      age: [\r\n        {\r\n          required: true,\r\n          validator(rule, value) {\r\n            if (!value) {\r\n              return new Error(\"需要年龄\");\r\n            } else if (!/^\\d*$/.test(value)) {\r\n              return new Error(\"年龄应该为整数\");\r\n            } else if (Number(value) < 18) {\r\n              return new Error(\"年龄应该超过十八岁\");\r\n            }\r\n            return true;\r\n          },\r\n          trigger: [\"input\", \"blur\"]\r\n        }\r\n      ],\r\n      password: [\r\n        {\r\n          required: true,\r\n          message: \"请输入密码\"\r\n        }\r\n      ],\r\n      reenteredPassword: [\r\n        {\r\n          required: true,\r\n          message: \"请再次输入密码\",\r\n          trigger: [\"input\", \"blur\"]\r\n        },\r\n        {\r\n          validator: validatePasswordStartWith,\r\n          message: \"两次密码输入不一致\",\r\n          trigger: \"input\"\r\n        },\r\n        {\r\n          validator: validatePasswordSame,\r\n          message: \"两次密码输入不一致\",\r\n          trigger: [\"blur\", \"password-input\"]\r\n        }\r\n      ]\r\n    };\r\n    return {\r\n      formRef,\r\n      rPasswordFormItemRef,\r\n      model: modelRef,\r\n      rules,\r\n      handlePasswordInput() {\r\n        if (modelRef.value.reenteredPassword) {\r\n          rPasswordFormItemRef.value?.validate({ trigger: \"password-input\" });\r\n        }\r\n      },\r\n      handleValidateButtonClick(e) {\r\n        e.preventDefault();\r\n        formRef.value?.validate((errors) => {\r\n          if (!errors) {\r\n            message.success(\"验证成功\");\r\n          } else {\r\n            console.log(errors);\r\n            message.error(\"验证失败\");\r\n          }\r\n        });\r\n      }\r\n    };\r\n  }\r\n});\r\n</script>"],"mappings":";;EA4BaA,KAAgD,EAAhD;IAAA;IAAA;EAAA;AAAgD;;;;;;;;uBA5B7DC,mBAAA,CAAAC,SAAA,SACEC,YAAA,CAuCSC,iBAAA;IAvCDC,GAAG,EAAC,SAAS;IAAEC,KAAK,EAAEC,IAAA,CAAAD,KAAK;IAAGE,KAAK,EAAED,IAAA,CAAAC;;IAD/CC,OAAA,EAAAC,QAAA,CAEI,MAEc,CAFdP,YAAA,CAEcQ,sBAAA;MAFDC,IAAI,EAAC,KAAK;MAACC,KAAK,EAAC;;MAFlCJ,OAAA,EAAAC,QAAA,CAGM,MAA4D,CAA5DP,YAAA,CAA4DW,kBAAA;QAA3CC,KAAK,EAAER,IAAA,CAAAD,KAAK,CAACU,GAAG;QAHvC,kBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAG8BX,IAAA,CAAAD,KAAK,CAACU,GAAG,GAAAE,MAAA;QAAGC,SAAO,EAAAF,MAAA,QAAAA,MAAA,MAHjDG,SAAA,CAAAC,cAAA,CAGyC,QAAsB;;MAH/DC,CAAA;QAKInB,YAAA,CAOcQ,sBAAA;MAPDC,IAAI,EAAC,UAAU;MAACC,KAAK,EAAC;;MALvCJ,OAAA,EAAAC,QAAA,CAMM,MAKE,CALFP,YAAA,CAKEW,kBAAA;QAJQC,KAAK,EAAER,IAAA,CAAAD,KAAK,CAACiB,QAAQ;QAPrC,kBAAAN,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAOuBX,IAAA,CAAAD,KAAK,CAACiB,QAAQ,GAAAL,MAAA;QAC7BM,IAAI,EAAC,UAAU;QACdC,OAAK,EAAElB,IAAA,CAAAmB,mBAAmB;QAC1BP,SAAO,EAAAF,MAAA,QAAAA,MAAA,MAVhBG,SAAA,CAAAC,cAAA,CAUQ,QAAsB;;MAV9BC,CAAA;QAaInB,YAAA,CAYcQ,sBAAA;MAXZN,GAAG,EAAC,sBAAsB;MAC1BsB,KAAK,EAAL,EAAK;MACLf,IAAI,EAAC,mBAAmB;MACxBC,KAAK,EAAC;;MAjBZJ,OAAA,EAAAC,QAAA,CAmBM,MAKE,CALFP,YAAA,CAKEW,kBAAA;QAJQC,KAAK,EAAER,IAAA,CAAAD,KAAK,CAACsB,iBAAiB;QApB9C,kBAAAX,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAoBuBX,IAAA,CAAAD,KAAK,CAACsB,iBAAiB,GAAAV,MAAA;QACrCW,QAAQ,GAAGtB,IAAA,CAAAD,KAAK,CAACiB,QAAQ;QAC1BC,IAAI,EAAC,UAAU;QACdL,SAAO,EAAAF,MAAA,QAAAA,MAAA,MAvBhBG,SAAA,CAAAC,cAAA,CAuBQ,QAAsB;;MAvB9BC,CAAA;8BA0BInB,YAAA,CAaQ2B,gBAAA;MAbAC,MAAM,EAAE;IAAO;MA1B3BtB,OAAA,EAAAC,QAAA,CA2BM,MAWQ,CAXRP,YAAA,CAWQ6B,gBAAA;QAXAC,IAAI,EAAE;MAAE;QA3BtBxB,OAAA,EAAAC,QAAA,CA4BQ,MASM,CATNwB,mBAAA,CASM,OATNC,UASM,GARJhC,YAAA,CAOWiC,mBAAA;UANRP,QAAQ,EAAEtB,IAAA,CAAAD,KAAK,CAACU,GAAG;UACpBqB,KAAK,EAAL,EAAK;UACLb,IAAI,EAAC,SAAS;UACbc,OAAK,EAAE/B,IAAA,CAAAgC;;UAjCpB9B,OAAA,EAAAC,QAAA,CAkCW,MAED,CApCV8B,gBAAA,CAkCW,MAED,E;UApCVlB,CAAA;;QAAAA,CAAA;;MAAAA,CAAA;;IAAAA,CAAA;yCA0CEY,mBAAA,CACI,aAAAO,gBAAA,CADIC,IAAI,CAACC,SAAS,CAACpC,IAAA,CAAAD,KAAK,cAAa,IAC3C,gB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}