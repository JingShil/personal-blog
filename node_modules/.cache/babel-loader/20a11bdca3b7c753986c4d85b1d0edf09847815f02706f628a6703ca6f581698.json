{"ast":null,"code":"import VanillaTilt from 'vanilla-tilt';\nimport { defineComponent, onMounted, ref } from \"vue\";\nimport { useMessage } from \"naive-ui\";\nexport default {\n  __name: 'Index',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    let isLogin = ref(true);\n    let backgroundImg = ref(require(\"@/assets/imgs/3.png\"));\n    let color = ref(\"blak\");\n    onMounted(() => {\n      // VanillaTilt.init(document.querySelector(\".card\"), {\n      // \tmax: 50,\n      // \tspeed: 400\n      // });\n\n      //It also supports NodeList\n      VanillaTilt.init(document.querySelectorAll(\".login-left\"));\n    });\n    function openLogin() {\n      isLogin.value = true;\n      backgroundImg.value = require(\"@/assets/imgs/3.png\");\n    }\n    function closeLogin() {\n      isLogin.value = false;\n      backgroundImg.value = require(\"@/assets/imgs/10.jpg\");\n    }\n    const formRef = ref(null);\n    const rPasswordFormItemRef = ref(null);\n    const message = useMessage();\n    const modelRef = ref({\n      age: null,\n      password: null,\n      reenteredPassword: null\n    });\n    function validatePasswordStartWith(rule, value) {\n      return !!modelRef.value.password && modelRef.value.password.startsWith(value) && modelRef.value.password.length >= value.length;\n    }\n    function validatePasswordSame(rule, value) {\n      return value === modelRef.value.password;\n    }\n    const rules = {\n      age: [{\n        required: true,\n        validator(rule, value) {\n          if (!value) {\n            return new Error(\"需要年龄\");\n          } else if (!/^\\d*$/.test(value)) {\n            return new Error(\"年龄应该为整数\");\n          } else if (Number(value) < 18) {\n            return new Error(\"年龄应该超过十八岁\");\n          }\n          return true;\n        },\n        trigger: [\"input\", \"blur\"]\n      }],\n      password: [{\n        required: true,\n        message: \"请输入密码\"\n      }],\n      reenteredPassword: [{\n        required: true,\n        message: \"请再次输入密码\",\n        trigger: [\"input\", \"blur\"]\n      }, {\n        validator: validatePasswordStartWith,\n        message: \"两次密码输入不一致\",\n        trigger: \"input\"\n      }, {\n        validator: validatePasswordSame,\n        message: \"两次密码输入不一致\",\n        trigger: [\"blur\", \"password-input\"]\n      }]\n    };\n    // return {\n    // \tformRef,\n    // \trPasswordFormItemRef,\n    // \tmodel: modelRef,\n    // \trules,\n    // \thandlePasswordInput() {\n    // \t\tif (modelRef.value.reenteredPassword) {\n    // \t\t\trPasswordFormItemRef.value?.validate({ trigger: \"password-input\" });\n    // \t\t}\n    // \t},\n    // \thandleValidateButtonClick(e) {\n    // \t\te.preventDefault();\n    // \t\tformRef.value?.validate((errors) => {\n    // \t\t\tif (!errors) {\n    // \t\t\t\tmessage.success(\"验证成功\");\n    // \t\t\t} else {\n    // \t\t\t\tconsole.log(errors);\n    // \t\t\t\tmessage.error(\"验证失败\");\n    // \t\t\t}\n    // \t\t});\n    // \t}\n    // };\n\n    const __returned__ = {\n      get isLogin() {\n        return isLogin;\n      },\n      set isLogin(v) {\n        isLogin = v;\n      },\n      get backgroundImg() {\n        return backgroundImg;\n      },\n      set backgroundImg(v) {\n        backgroundImg = v;\n      },\n      get color() {\n        return color;\n      },\n      set color(v) {\n        color = v;\n      },\n      openLogin,\n      closeLogin,\n      formRef,\n      rPasswordFormItemRef,\n      message,\n      modelRef,\n      validatePasswordStartWith,\n      validatePasswordSame,\n      rules,\n      get VanillaTilt() {\n        return VanillaTilt;\n      },\n      defineComponent,\n      onMounted,\n      ref,\n      get useMessage() {\n        return useMessage;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["VanillaTilt","defineComponent","onMounted","ref","useMessage","isLogin","backgroundImg","require","color","init","document","querySelectorAll","openLogin","value","closeLogin","formRef","rPasswordFormItemRef","message","modelRef","age","password","reenteredPassword","validatePasswordStartWith","rule","startsWith","length","validatePasswordSame","rules","required","validator","Error","test","Number","trigger"],"sources":["E:/java项目/test/blog/blog-front/src/views/login/Index.vue"],"sourcesContent":["<template>\r\n\t<div class=\"login-body\" :style=\"'background-image: url(' + backgroundImg + ');'\">\r\n\t\t<div class=\"login-container\">\r\n\t\t\t<div class=\"login-left\">\r\n\t\t\t\t<h1>个人博客</h1>\r\n\t\t\t\t<!-- <span>欢迎来到我的博客</span> -->\r\n\t\t\t\t<vuetyped :strings=\"['欢迎来到小何的博客']\" :loop=\"true\" :smart-backspace=\"true\">\r\n\t\t\t\t\t<div class=\"typing\" />\r\n\t\t\t\t</vuetyped>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"login-right\">\r\n\t\t\t\t<span class=\"login-right-background\" :style=\"'background-image: url(' + backgroundImg + ');'\"></span>\r\n\r\n\t\t\t\t<div class=\"login\"\r\n\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t'toLeft':!isLogin\r\n\t\t\t\t\t}\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<n-form ref=\"formRef\" :model=\"model\" :rules=\"rules\">\r\n\t\t\t\t\t\t<n-form-item path=\"age\" label=\"年龄\">\r\n\t\t\t\t\t\t\t<n-input v-model:value=\"model.age\" @keydown.enter.prevent />\r\n\t\t\t\t\t\t</n-form-item>\r\n\t\t\t\t\t\t<n-form-item path=\"password\" label=\"密码\">\r\n\t\t\t\t\t\t\t<n-input\r\n\t\t\t\t\t\t\t\tv-model:value=\"model.password\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t@input=\"handlePasswordInput\"\r\n\t\t\t\t\t\t\t\t@keydown.enter.prevent\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</n-form-item>\r\n\t\t\t\t\t\t<n-form-item\r\n\t\t\t\t\t\t\tref=\"rPasswordFormItemRef\"\r\n\t\t\t\t\t\t\tfirst\r\n\t\t\t\t\t\t\tpath=\"reenteredPassword\"\r\n\t\t\t\t\t\t\tlabel=\"重复密码\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<n-input\r\n\t\t\t\t\t\t\t\tv-model:value=\"model.reenteredPassword\"\r\n\t\t\t\t\t\t\t\t:disabled=\"!model.password\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t@keydown.enter.prevent\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</n-form-item>\r\n\t\t\t\t\t\t<n-row :gutter=\"[0, 24]\">\r\n\t\t\t\t\t\t\t<n-col :span=\"24\">\r\n\t\t\t\t\t\t\t\t<div style=\"display: flex; justify-content: flex-end\">\r\n\t\t\t\t\t\t\t\t\t<n-button\r\n\t\t\t\t\t\t\t\t\t\t:disabled=\"model.age === null\"\r\n\t\t\t\t\t\t\t\t\t\tround\r\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"handleValidateButtonClick\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t验证\r\n\t\t\t\t\t\t\t\t\t</n-button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</n-col>\r\n\t\t\t\t\t\t</n-row>\r\n\t\t\t\t\t</n-form>\r\n\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"register\"\r\n\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t'toRight':isLogin\r\n\t\t\t\t\t}\"\r\n\t\t\t\t>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\nimport VanillaTilt from 'vanilla-tilt';\r\nimport { defineComponent,onMounted,ref } from \"vue\";\r\nimport {useMessage} from \"naive-ui\";\r\nlet isLogin = ref(true);\r\nlet backgroundImg = ref(require(\"@/assets/imgs/3.png\"));\r\nlet color = ref(\"blak\")\r\nonMounted(() => {\r\n  // VanillaTilt.init(document.querySelector(\".card\"), {\r\n\t// \tmax: 50,\r\n\t// \tspeed: 400\r\n\t// });\r\n\t\r\n\t//It also supports NodeList\r\n\tVanillaTilt.init(document.querySelectorAll(\".login-left\"));\r\n});\r\n\r\nfunction openLogin(){\r\n\tisLogin.value=true;\r\n\tbackgroundImg.value=require(\"@/assets/imgs/3.png\");\r\n}\r\n\r\nfunction closeLogin(){\r\n\tisLogin.value=false;\r\n\tbackgroundImg.value=require(\"@/assets/imgs/10.jpg\");\r\n}\r\n\r\n\r\nconst formRef = ref(null);\r\nconst rPasswordFormItemRef = ref(null);\r\nconst message = useMessage();\r\nconst modelRef = ref({\r\n\tage: null,\r\n\tpassword: null,\r\n\treenteredPassword: null\r\n});\r\nfunction validatePasswordStartWith(rule, value) {\r\n\treturn !!modelRef.value.password && modelRef.value.password.startsWith(value) && modelRef.value.password.length >= value.length;\r\n}\r\nfunction validatePasswordSame(rule, value) {\r\n\treturn value === modelRef.value.password;\r\n}\r\nconst rules = {\r\n\tage: [\r\n\t\t{\r\n\t\t\trequired: true,\r\n\t\t\tvalidator(rule, value) {\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\treturn new Error(\"需要年龄\");\r\n\t\t\t\t} else if (!/^\\d*$/.test(value)) {\r\n\t\t\t\t\treturn new Error(\"年龄应该为整数\");\r\n\t\t\t\t} else if (Number(value) < 18) {\r\n\t\t\t\t\treturn new Error(\"年龄应该超过十八岁\");\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\ttrigger: [\"input\", \"blur\"]\r\n\t\t}\r\n\t],\r\n\tpassword: [\r\n\t\t{\r\n\t\t\trequired: true,\r\n\t\t\tmessage: \"请输入密码\"\r\n\t\t}\r\n\t],\r\n\treenteredPassword: [\r\n\t\t{\r\n\t\t\trequired: true,\r\n\t\t\tmessage: \"请再次输入密码\",\r\n\t\t\ttrigger: [\"input\", \"blur\"]\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalidator: validatePasswordStartWith,\r\n\t\t\tmessage: \"两次密码输入不一致\",\r\n\t\t\ttrigger: \"input\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalidator: validatePasswordSame,\r\n\t\t\tmessage: \"两次密码输入不一致\",\r\n\t\t\ttrigger: [\"blur\", \"password-input\"]\r\n\t\t}\r\n\t]\r\n};\r\n// return {\r\n// \tformRef,\r\n// \trPasswordFormItemRef,\r\n// \tmodel: modelRef,\r\n// \trules,\r\n// \thandlePasswordInput() {\r\n// \t\tif (modelRef.value.reenteredPassword) {\r\n// \t\t\trPasswordFormItemRef.value?.validate({ trigger: \"password-input\" });\r\n// \t\t}\r\n// \t},\r\n// \thandleValidateButtonClick(e) {\r\n// \t\te.preventDefault();\r\n// \t\tformRef.value?.validate((errors) => {\r\n// \t\t\tif (!errors) {\r\n// \t\t\t\tmessage.success(\"验证成功\");\r\n// \t\t\t} else {\r\n// \t\t\t\tconsole.log(errors);\r\n// \t\t\t\tmessage.error(\"验证失败\");\r\n// \t\t\t}\r\n// \t\t});\r\n// \t}\r\n// };\r\n   \r\n                        \r\n\r\n\r\n</script>\r\n\r\n<style src=\"@/assets/css/login.css\" scoped>\r\n\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}